:root {
  --bg: #070710;
  --surface: #0f0f1a;
  --card: #151522;
  --card2: #1c1c2e;
  --border: #252538;
  --border2: #2e2e4a;
  --accent: #7c6bff;
  --accent-glow: rgba(124,107,255,0.25);
  --accent2: #ff5f7e;
  --accent3: #00e5c8;
  --accent4: #ffc857;
  --text: #e2e2f0;
  --muted: #5e5e80;
  --muted2: #8888aa;
  --success: #00e5a0;
  --error: #ff5f7e;
  --warning: #ffc857;
  --alpha: #7c6bff;
  --beta: #ff5f7e;
}
*{margin:0;padding:0;box-sizing:border-box;}
html{scroll-behavior:smooth;}
body{background:var(--bg);color:var(--text);font-family:'JetBrains Mono',monospace;min-height:100vh;overflow-x:hidden;}
body::before{content:'';position:fixed;inset:0;background-image:linear-gradient(rgba(124,107,255,0.025) 1px,transparent 1px),linear-gradient(90deg,rgba(124,107,255,0.025) 1px,transparent 1px);background-size:50px 50px;pointer-events:none;z-index:0;}
::-webkit-scrollbar{width:5px;}
::-webkit-scrollbar-track{background:var(--surface);}
::-webkit-scrollbar-thumb{background:var(--border2);border-radius:10px;}

/* HEADER */
header{position:sticky;top:0;z-index:50;display:flex;align-items:center;justify-content:space-between;padding:1rem 2.5rem;border-bottom:1px solid var(--border);background:rgba(7,7,16,0.85);backdrop-filter:blur(20px);}
.logo{font-family:'Syne',sans-serif;font-weight:800;font-size:1.1rem;letter-spacing:-0.02em;display:flex;align-items:center;gap:0.6rem;}
.logo-pulse{width:8px;height:8px;border-radius:50%;background:var(--accent);animation:pulse 2s ease-in-out infinite;}
@keyframes pulse{0%,100%{box-shadow:0 0 8px var(--accent);transform:scale(1);}50%{box-shadow:0 0 25px var(--accent),0 0 50px rgba(124,107,255,0.3);transform:scale(1.3);}}
.header-right{display:flex;align-items:center;gap:1rem;}
.election-status{font-size:0.68rem;letter-spacing:0.12em;padding:0.35rem 0.8rem;border-radius:100px;border:1px solid;display:flex;align-items:center;gap:0.4rem;}
.election-status.active{border-color:var(--success);color:var(--success);background:rgba(0,229,160,0.08);}
.election-status.paused{border-color:var(--warning);color:var(--warning);background:rgba(255,200,87,0.08);}
.election-status.ended{border-color:var(--muted);color:var(--muted);background:rgba(94,94,128,0.08);}
.election-status.pending{border-color:var(--accent2);color:var(--accent2);background:rgba(255,95,126,0.08);}
.status-dot{width:6px;height:6px;border-radius:50%;background:currentColor;}
.status-dot.blink{animation:blink 1.2s ease-in-out infinite;}
@keyframes blink{0%,100%{opacity:1;}50%{opacity:0.2;}}
.admin-btn{font-family:'JetBrains Mono',monospace;font-size:0.72rem;background:var(--card);border:1px solid var(--border2);color:var(--muted2);padding:0.4rem 1rem;border-radius:6px;cursor:pointer;transition:all 0.2s;letter-spacing:0.05em;}
.admin-btn:hover{border-color:var(--accent);color:var(--accent);}

/* MAIN APP */
.app{position:relative;z-index:5;max-width:580px;margin:2.5rem auto;padding:0 1.5rem;}

/* STEPS */
.steps{display:flex;align-items:center;margin-bottom:2.5rem;}
.step-item{display:flex;align-items:center;gap:0.45rem;}
.step-num{width:28px;height:28px;border-radius:50%;border:1.5px solid var(--border2);display:flex;align-items:center;justify-content:center;font-size:0.7rem;color:var(--muted);transition:all 0.4s;flex-shrink:0;}
.step-num.active{border-color:var(--accent);color:var(--accent);box-shadow:0 0 12px rgba(124,107,255,0.4);}
.step-num.done{border-color:var(--success);background:var(--success);color:#000;font-weight:700;}
.step-label{font-size:0.65rem;color:var(--muted);letter-spacing:0.08em;text-transform:uppercase;white-space:nowrap;}
.step-label.active{color:var(--text);}
.step-conn{flex:1;height:1px;background:var(--border);margin:0 0.4rem;transition:background 0.4s;}
.step-conn.done{background:linear-gradient(90deg,var(--accent),var(--accent3));}

/* CARD */
.card{background:var(--card);border:1px solid var(--border);border-radius:18px;padding:2.2rem;position:relative;overflow:hidden;display:none;animation:fadeUp 0.4s cubic-bezier(0.16,1,0.3,1);}
.card.active{display:block;}
@keyframes fadeUp{from{opacity:0;transform:translateY(18px);}to{opacity:1;transform:translateY(0);}}
.card::before{content:'';position:absolute;top:-1px;left:15%;right:15%;height:1px;background:linear-gradient(90deg,transparent,var(--accent),transparent);}
.card-title{font-family:'Syne',sans-serif;font-size:1.5rem;font-weight:700;margin-bottom:0.4rem;}
.card-sub{font-size:0.75rem;color:var(--muted2);margin-bottom:1.8rem;line-height:1.7;}

/* SECTION BADGE */
.section-badge{display:inline-flex;align-items:center;gap:0.4rem;font-size:0.7rem;letter-spacing:0.1em;text-transform:uppercase;padding:0.3rem 0.75rem;border-radius:100px;border:1px solid;margin-bottom:1.5rem;}
.section-badge.alpha{border-color:var(--alpha);color:var(--alpha);background:rgba(124,107,255,0.1);}
.section-badge.beta{border-color:var(--beta);color:var(--beta);background:rgba(255,95,126,0.1);}

/* FORM */
.field{margin-bottom:1.3rem;}
label{display:block;font-size:0.68rem;letter-spacing:0.12em;text-transform:uppercase;color:var(--muted2);margin-bottom:0.45rem;}
input,select{width:100%;background:var(--surface);border:1px solid var(--border2);border-radius:9px;padding:0.85rem 1rem;color:var(--text);font-family:'JetBrains Mono',monospace;font-size:0.88rem;outline:none;transition:all 0.2s;-webkit-appearance:none;}
input:focus,select:focus{border-color:var(--accent);box-shadow:0 0 0 3px var(--accent-glow);}
input.err{border-color:var(--error);}
select option{background:var(--surface);}
.field-err{font-size:0.7rem;color:var(--error);margin-top:0.4rem;}
.select-wrap{position:relative;}
.select-wrap::after{content:'▾';position:absolute;right:1rem;top:50%;transform:translateY(-50%);color:var(--muted2);pointer-events:none;}

/* BUTTON */
.btn{width:100%;padding:0.95rem;border:none;border-radius:9px;font-family:'Syne',sans-serif;font-weight:700;font-size:0.88rem;letter-spacing:0.04em;cursor:pointer;transition:all 0.2s;display:flex;align-items:center;justify-content:center;gap:0.5rem;margin-top:1.4rem;}
.btn-primary{background:linear-gradient(135deg,var(--accent),#5b4de8);color:white;}
.btn-primary:hover{transform:translateY(-1px);box-shadow:0 8px 25px rgba(124,107,255,0.4);}
.btn-primary:active{transform:translateY(0);}
.btn-primary:disabled{opacity:0.35;cursor:not-allowed;transform:none;box-shadow:none;}
.btn-ghost{background:transparent;color:var(--muted2);border:1px solid var(--border2);}
.btn-ghost:hover{border-color:var(--accent);color:var(--accent);}
.btn-danger{background:rgba(255,95,126,0.12);color:var(--error);border:1px solid rgba(255,95,126,0.3);}
.btn-danger:hover{background:rgba(255,95,126,0.2);}
.btn-success{background:rgba(0,229,160,0.12);color:var(--success);border:1px solid rgba(0,229,160,0.3);}
.btn-success:hover{background:rgba(0,229,160,0.2);}
.btn-sm{width:auto;padding:0.5rem 1rem;font-size:0.75rem;margin-top:0;}
.btn-row{display:grid;grid-template-columns:1fr 1fr;gap:0.7rem;margin-top:0;}

/* STATUS BOXES */
.status{border-radius:9px;padding:0.85rem 1rem;font-size:0.78rem;display:flex;align-items:flex-start;gap:0.6rem;line-height:1.6;margin-top:0.9rem;}
.status.info{background:rgba(124,107,255,0.08);border:1px solid rgba(124,107,255,0.25);color:#a09aff;}
.status.success{background:rgba(0,229,160,0.08);border:1px solid rgba(0,229,160,0.25);color:var(--success);}
.status.error{background:rgba(255,95,126,0.08);border:1px solid rgba(255,95,126,0.25);color:var(--error);}
.status.warning{background:rgba(255,200,87,0.08);border:1px solid rgba(255,200,87,0.25);color:var(--warning);}

/* CAMERA */
.cam-wrap{position:relative;border-radius:14px;overflow:hidden;background:#000;aspect-ratio:4/3;border:1px solid var(--border2);margin-bottom:1rem;}
#video,#canvas-preview{width:100%;height:100%;object-fit:cover;display:block;}
#canvas-preview{display:none;position:absolute;inset:0;}
.cam-overlay{position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;pointer-events:none;}
.face-oval{width:52%;aspect-ratio:3/4;border:2px dashed rgba(124,107,255,0.65);border-radius:50% 50% 40% 40%;animation:ovalPulse 2s ease-in-out infinite;}
@keyframes ovalPulse{0%,100%{border-color:rgba(124,107,255,0.5);}50%{border-color:rgba(124,107,255,1);box-shadow:0 0 20px rgba(124,107,255,0.3);}}
.cam-hint{position:absolute;bottom:10px;left:0;right:0;text-align:center;font-size:0.68rem;color:rgba(255,255,255,0.7);background:rgba(0,0,0,0.55);padding:0.4rem;}
.tick-overlay{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.5);}
.tick-circle{width:70px;height:70px;border-radius:50%;background:var(--success);display:flex;align-items:center;justify-content:center;font-size:2rem;animation:popIn 0.4s cubic-bezier(0.16,1,0.3,1);}
@keyframes popIn{from{transform:scale(0);}to{transform:scale(1);}}

/* CANDIDATES */
.candidates-grid{display:grid;grid-template-columns:1fr 1fr;gap:0.85rem;margin-bottom:0.8rem;}
.cand-card{border:1.5px solid var(--border2);border-radius:14px;padding:1.3rem 1rem;cursor:pointer;transition:all 0.2s;text-align:center;position:relative;background:var(--surface);}
.cand-card:hover{border-color:var(--accent);background:rgba(124,107,255,0.06);}
.cand-card.selected{border-color:var(--accent);background:rgba(124,107,255,0.1);box-shadow:0 0 0 3px rgba(124,107,255,0.15);}
.cand-card.selected::after{content:'✓';position:absolute;top:8px;right:10px;color:var(--accent);font-weight:700;}
.cand-avatar{width:52px;height:52px;border-radius:50%;margin:0 auto 0.7rem;display:flex;align-items:center;justify-content:center;font-family:'Syne',sans-serif;font-weight:800;font-size:1.1rem;}
.cand-name{font-family:'Syne',sans-serif;font-weight:700;font-size:0.82rem;margin-bottom:0.15rem;}
.cand-pos{font-size:0.66rem;color:var(--muted2);}

/* SUCCESS */
.success-wrap{text-align:center;padding:0.5rem 0;}
.success-icon{width:80px;height:80px;border-radius:50%;background:linear-gradient(135deg,var(--accent),var(--accent3));margin:0 auto 1.3rem;display:flex;align-items:center;justify-content:center;font-size:2.2rem;box-shadow:0 0 50px rgba(124,107,255,0.5);animation:successPop 0.6s cubic-bezier(0.16,1,0.3,1);}
@keyframes successPop{0%{transform:scale(0);opacity:0;}60%{transform:scale(1.15);}100%{transform:scale(1);opacity:1;}}
.success-title{font-family:'Syne',sans-serif;font-size:1.8rem;font-weight:800;background:linear-gradient(135deg,var(--accent),var(--accent3));-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:0.4rem;}
.receipt{background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:1.1rem;margin:1.3rem 0;text-align:left;}
.r-row{display:flex;justify-content:space-between;font-size:0.75rem;padding:0.38rem 0;border-bottom:1px solid var(--border);}
.r-row:last-child{border:none;}
.r-label{color:var(--muted2);}

/* LOADING */
.spin{display:inline-block;width:16px;height:16px;border:2px solid rgba(255,255,255,0.25);border-top-color:white;border-radius:50%;animation:spin 0.7s linear infinite;}
@keyframes spin{to{transform:rotate(360deg);}}

/* ADMIN PANEL */
.admin-overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.92);z-index:1000;backdrop-filter:blur(12px);}
.admin-overlay.open{display:flex;}
.admin-shell{width:100%;max-width:1100px;margin:auto;display:flex;height:100vh;overflow:hidden;}
.admin-sidebar{width:230px;flex-shrink:0;background:var(--surface);border-right:1px solid var(--border);padding:1.5rem 0;display:flex;flex-direction:column;}
.admin-logo{font-family:'Syne',sans-serif;font-weight:800;font-size:0.9rem;padding:0 1.5rem 1.5rem;border-bottom:1px solid var(--border);color:var(--accent);letter-spacing:0.05em;}
.admin-logo span{font-size:0.65rem;color:var(--muted);display:block;font-family:'JetBrains Mono',monospace;font-weight:400;margin-top:0.2rem;letter-spacing:0.1em;}
.admin-nav{flex:1;padding:1rem 0;overflow-y:auto;}
.nav-section{font-size:0.6rem;letter-spacing:0.2em;color:var(--muted);padding:0.8rem 1.5rem 0.4rem;text-transform:uppercase;}
.nav-item{display:flex;align-items:center;gap:0.6rem;padding:0.65rem 1.5rem;font-size:0.78rem;color:var(--muted2);cursor:pointer;transition:all 0.15s;border-left:2px solid transparent;}
.nav-item:hover{color:var(--text);background:rgba(124,107,255,0.06);}
.nav-item.active{color:var(--accent);border-left-color:var(--accent);background:rgba(124,107,255,0.08);}
.nav-item .nav-icon{width:18px;text-align:center;font-size:0.85rem;flex-shrink:0;}
.nav-badge{margin-left:auto;background:var(--error);color:white;font-size:0.6rem;padding:0.15rem 0.45rem;border-radius:100px;font-family:'Syne',sans-serif;font-weight:700;}
.admin-close{padding:1rem 1.5rem;border-top:1px solid var(--border);}
.admin-content{flex:1;overflow-y:auto;background:var(--bg);}
.admin-auth-screen{max-width:380px;margin:8rem auto;text-align:center;padding:2rem;}
.admin-page{display:none;padding:2rem;}
.admin-page.active{display:block;}
.page-title{font-family:'Syne',sans-serif;font-size:1.4rem;font-weight:700;margin-bottom:0.3rem;}
.page-sub{font-size:0.75rem;color:var(--muted2);margin-bottom:2rem;}
.page-actions{display:flex;gap:0.6rem;flex-wrap:wrap;margin-bottom:1.5rem;}

/* STAT CARDS */
.stats-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:1rem;margin-bottom:2rem;}
.stat{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:1.2rem;position:relative;overflow:hidden;}
.stat::before{content:'';position:absolute;top:0;left:0;right:0;height:2px;background:var(--accent-line,var(--accent));}
.stat-val{font-family:'Syne',sans-serif;font-size:2rem;font-weight:800;color:var(--accent-text,var(--accent));}
.stat-label{font-size:0.68rem;color:var(--muted2);margin-top:0.2rem;letter-spacing:0.08em;text-transform:uppercase;}

/* TABLES */
.table-wrap{background:var(--card);border:1px solid var(--border);border-radius:12px;overflow:hidden;}
.table-head{display:grid;padding:0.7rem 1rem;font-size:0.65rem;letter-spacing:0.12em;text-transform:uppercase;color:var(--muted);border-bottom:1px solid var(--border);background:var(--surface);}
.table-row{display:grid;padding:0.75rem 1rem;font-size:0.78rem;border-bottom:1px solid var(--border);align-items:center;transition:background 0.15s;}
.table-row:last-child{border-bottom:none;}
.table-row:hover{background:rgba(124,107,255,0.04);}
.table-empty{text-align:center;color:var(--muted);font-size:0.78rem;padding:2.5rem;}

/* PILL */
.pill{display:inline-flex;align-items:center;gap:0.3rem;font-size:0.68rem;padding:0.2rem 0.65rem;border-radius:100px;border:1px solid;font-family:'Syne',sans-serif;font-weight:600;}
.pill.alpha{border-color:var(--alpha);color:var(--alpha);background:rgba(124,107,255,0.1);}
.pill.beta{border-color:var(--beta);color:var(--beta);background:rgba(255,95,126,0.1);}
.pill.success{border-color:var(--success);color:var(--success);background:rgba(0,229,160,0.1);}
.pill.danger{border-color:var(--error);color:var(--error);background:rgba(255,95,126,0.1);}
.pill.warning{border-color:var(--warning);color:var(--warning);background:rgba(255,200,87,0.1);}
.pill.muted{border-color:var(--border2);color:var(--muted2);background:rgba(94,94,128,0.1);}

/* BAR CHART */
.bar-chart{display:flex;flex-direction:column;gap:0.8rem;}
.bar-item{display:flex;align-items:center;gap:0.8rem;font-size:0.78rem;}
.bar-label{width:140px;flex-shrink:0;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;color:var(--muted2);}
.bar-track{flex:1;height:8px;background:var(--border);border-radius:100px;overflow:hidden;}
.bar-fill{height:100%;border-radius:100px;transition:width 1s cubic-bezier(0.16,1,0.3,1);}
.bar-count{width:40px;text-align:right;font-family:'Syne',sans-serif;font-weight:700;color:var(--accent);}

/* TOGGLE */
.toggle-row{display:flex;align-items:center;justify-content:space-between;padding:0.8rem 0;border-bottom:1px solid var(--border);}
.toggle-row:last-child{border-bottom:none;}
.toggle-info{font-size:0.8rem;}
.toggle-info small{display:block;font-size:0.68rem;color:var(--muted2);margin-top:0.2rem;}
.toggle{width:44px;height:24px;background:var(--border2);border-radius:100px;position:relative;cursor:pointer;transition:background 0.3s;flex-shrink:0;}
.toggle.on{background:var(--accent);}
.toggle::after{content:'';position:absolute;top:3px;left:3px;width:18px;height:18px;border-radius:50%;background:white;transition:transform 0.3s;}
.toggle.on::after{transform:translateX(20px);}

/* INPUT INLINE */
.input-row{display:flex;gap:0.6rem;margin-bottom:0.8rem;}
.input-row input{flex:1;margin:0;}
.input-row .btn{width:auto;padding:0 1rem;margin:0;flex-shrink:0;}

/* CAND EDITOR */
.cand-editor{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:1.3rem;margin-bottom:1rem;display:flex;align-items:center;gap:1rem;}
.cand-editor-avatar{width:44px;height:44px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-family:'Syne',sans-serif;font-weight:800;font-size:1rem;flex-shrink:0;}
.cand-editor-info{flex:1;}
.cand-editor-name{font-family:'Syne',sans-serif;font-weight:700;font-size:0.9rem;}
.cand-editor-meta{font-size:0.7rem;color:var(--muted2);margin-top:0.15rem;}
.cand-editor-actions{display:flex;gap:0.4rem;}

/* TIME CARD */
.time-card{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:1.3rem;margin-bottom:1rem;}
.time-card-title{font-family:'Syne',sans-serif;font-weight:600;font-size:0.85rem;margin-bottom:1rem;color:var(--muted2);}
.time-inputs{display:grid;grid-template-columns:1fr 1fr;gap:0.8rem;}

/* COUNTDOWN */
.countdown{display:flex;gap:0.5rem;justify-content:center;margin:1.5rem 0;}
.cd-unit{background:var(--card);border:1px solid var(--border);border-radius:10px;padding:0.8rem 1rem;text-align:center;min-width:64px;}
.cd-num{font-family:'Syne',sans-serif;font-size:1.6rem;font-weight:800;color:var(--accent);}
.cd-label{font-size:0.6rem;color:var(--muted);text-transform:uppercase;letter-spacing:0.1em;}

/* ACTIVITY LOG */
.log-item{display:flex;gap:0.8rem;padding:0.75rem 0;border-bottom:1px solid var(--border);font-size:0.75rem;}
.log-icon{width:30px;height:30px;border-radius:8px;display:flex;align-items:center;justify-content:center;flex-shrink:0;font-size:0.9rem;}
.log-icon.vote{background:rgba(124,107,255,0.15);}
.log-icon.fraud{background:rgba(255,95,126,0.15);}
.log-icon.system{background:rgba(0,229,200,0.1);}
.log-icon.face{background:rgba(255,200,87,0.12);}
.log-time{color:var(--muted);font-size:0.68rem;margin-top:0.2rem;}

/* MODAL */
.modal-overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.8);z-index:2000;align-items:center;justify-content:center;}
.modal-overlay.open{display:flex;}
.modal{background:var(--card2);border:1px solid var(--border2);border-radius:16px;padding:2rem;width:100%;max-width:420px;animation:fadeUp 0.3s ease;}
.modal-title{font-family:'Syne',sans-serif;font-weight:700;font-size:1.1rem;margin-bottom:0.5rem;}
.modal-sub{font-size:0.75rem;color:var(--muted2);margin-bottom:1.5rem;}
.modal-actions{display:flex;gap:0.6rem;margin-top:1.5rem;}
.modal-actions .btn{margin:0;}

/* PROGRESS */
.progress-track{height:6px;background:var(--border);border-radius:100px;overflow:hidden;margin-top:0.5rem;}
.progress-fill{height:100%;border-radius:100px;background:linear-gradient(90deg,var(--accent),var(--accent3));transition:width 0.8s ease;}

/* RESPONSIVE */
@media(max-width:700px){
  header{padding:1rem 1.2rem;}
  .admin-shell{flex-direction:column;}
  .admin-sidebar{width:100%;height:auto;flex-direction:row;overflow-x:auto;padding:0.5rem;}
  .admin-nav{display:flex;flex-direction:row;padding:0;}
  .nav-section{display:none;}
  .admin-page{padding:1.2rem;}
  .stats-grid{grid-template-columns:1fr 1fr;}
  .candidates-grid{grid-template-columns:1fr;}
}
